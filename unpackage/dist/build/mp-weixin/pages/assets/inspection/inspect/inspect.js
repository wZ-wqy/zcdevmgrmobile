(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/assets/inspection/inspect/inspect"],{"92b9":function(t,n,e){"use strict";(function(t){e("29fc");u(e("66fd"));var n=u(e("fd0c"));function u(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},"97c8":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u=i(e("a34a"));function i(t){return t&&t.__esModule?t:{default:t}}function o(t,n,e,u,i,o,s){try{var r=t[o](s),c=r.value}catch(a){return void e(a)}r.done?n(c):Promise.resolve(c).then(u,i)}function s(t){return function(){var n=this,e=arguments;return new Promise((function(u,i){var s=t.apply(n,e);function r(t){o(s,u,i,r,c,"next",t)}function c(t){o(s,u,i,r,c,"throw",t)}r(void 0)}))}}var r={data:function(){return{saveloading:!1,required:!0,disabled:!0,baseURL:this.ghost+"/api/file/fileupload.do",action:this.ghost+"/api/file/fileupload.do",fileList:[],fList:[],form:{busid:"",mark:"",uuid:"",status_success:!0,status_failed:!1},busid:""}},onLoad:function(t){this.form.busid=t.busid},methods:{checkboxGroupChange:function(){},removepic:function(t,n,e){this.fList.splice(t,1)},beforeUpload:function(t,n){this.beforeAvatarUpload(t,n)},getUuid:function(){var t,n,e=32,u=16,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=[];if(u=u||i.length,e)for(t=0;t<e;t++)o[t]=i[0|Math.random()*u];else for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",t=0;t<36;t++)o[t]||(n=0|16*Math.random(),o[t]=i[19==t?3&n|8:n]);return o.join("")},beforeAvatarUpload:function(n,e){var u=this,i={},o=this,s=this.getUuid();t.uploadFile({url:this.baseURL+"?uuid="+s+"&bus=file&interval=10000",filePath:e[n].url,name:"file[0]",formData:{param:JSON.stringify(i)},success:function(t){o.fList.push(s)},fail:function(t){u.$refs.uToast.show({title:"上传图片失败",position:"center",type:"error",icon:!0,url:""})}})},normalchange:function(t,n){"success"==t&&(this.form.status_failed=!n),"failed"==t&&(this.form.status_success=!n)},clear:function(){this.fList=[],this.fileList=[],this.form.mark="",this.form.uuid="",this.form.status_success=!0,this.form.status_failed=!1,this.$refs.uUpload.clear()},save:function(){var t=this,n=this.form;n.pics=JSON.stringify(this.fList),this.form.status_success?n.status="success":n.status="failed",this.$u.test.isEmpty(this.form.uuid)?this.$refs.uToast.show({title:"请选择资产",position:"center",type:"error",icon:!0,url:""}):this.$u.test.isEmpty(this.form.busid)?this.$refs.uToast.show({title:"请输入巡检单据",position:"center",type:"error",icon:!0,url:""}):(this.saveloading=!0,this.$u.post("/api/zc/resInspection/ext/actionInspect.do",n).then((function(n){t.saveloading=!1,n.success?(t.clear(),t.$refs.uToast.show({title:"巡检成功",position:"center",type:"success",icon:!0,url:""})):t.$refs.uToast.show({title:n.message,position:"center",type:"error",icon:!0,url:""})})))},scan:function(){var n=this;return s(u.default.mark((function e(){return u.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.scanCode({success:function(t){n.form.uuid=t.result},fail:function(n){t.getSetting({success:function(n){var e=n.authSetting["scope.camera"];e||t.showModal({title:"授权失败",content:"需要使用您的相机，请在设置界面打开相关权限",success:function(n){n.confirm&&t.openSetting()}})}})}});case 1:case"end":return e.stop()}}),e)})))()}}};n.default=r}).call(this,e("543d")["default"])},b157:function(t,n,e){"use strict";e.r(n);var u=e("97c8"),i=e.n(u);for(var o in u)"default"!==o&&function(t){e.d(n,t,(function(){return u[t]}))}(o);n["default"]=i.a},f1f5:function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return u}));var u={uToast:function(){return e.e("uview-ui/components/u-toast/u-toast").then(e.bind(null,"2261"))},uForm:function(){return e.e("uview-ui/components/u-form/u-form").then(e.bind(null,"5241"))},uFormItem:function(){return Promise.all([e.e("common/vendor"),e.e("uview-ui/components/u-form-item/u-form-item")]).then(e.bind(null,"6658"))},uInput:function(){return Promise.all([e.e("common/vendor"),e.e("uview-ui/components/u-input/u-input")]).then(e.bind(null,"b093"))},uCheckboxGroup:function(){return Promise.all([e.e("common/vendor"),e.e("uview-ui/components/u-checkbox-group/u-checkbox-group")]).then(e.bind(null,"33e6"))},uCheckbox:function(){return e.e("uview-ui/components/u-checkbox/u-checkbox").then(e.bind(null,"10e7"))},uUpload:function(){return e.e("uview-ui/components/u-upload/u-upload").then(e.bind(null,"532b"))},uIcon:function(){return e.e("uview-ui/components/u-icon/u-icon").then(e.bind(null,"d696"))},uButton:function(){return e.e("uview-ui/components/u-button/u-button").then(e.bind(null,"2a9f"))}},i=function(){var t=this,n=t.$createElement;t._self._c},o=[]},fd0c:function(t,n,e){"use strict";e.r(n);var u=e("f1f5"),i=e("b157");for(var o in i)"default"!==o&&function(t){e.d(n,t,(function(){return i[t]}))}(o);var s,r=e("f0c5"),c=Object(r["a"])(i["default"],u["b"],u["c"],!1,null,"5df81f90",null,!1,u["a"],s);n["default"]=c.exports}},[["92b9","common/runtime","common/vendor"]]]);